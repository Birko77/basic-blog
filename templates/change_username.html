{% extends "base.html" %}

{% block page_title %}
	Change username
{% endblock page_title %}

{% block back_link %}
	<a class="custom_link_navbar" href="/user_settings"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span></a>
{% endblock back_link %}


{% block content %}
	<br>
	<div class="row">
		<div class="col-xs-12 text-center">
			<div class="text-box">
				<h1><strong>Change username</strong></h1>
				<h3>Your current username: {{user.name}}</h>
			</div>
		</div>
	</div>
	<br>
	<div class="row">
		<div class="col-xs-12">
			<div class="transp-box">
				<br>
				<form class="form-horizontal" method="post" role="form">
				  	<div class="form-group">
				    	<label for="inputUsername" class="col-sm-2 control-label">New username</label>
				    	<div class="col-sm-10">
				      		<input type="text" class="form-control" maxlength="20" pattern="[a-zA-Z0-9_-]{3,20}" id="inputUsername" placeholder="New username" name="username" value="{{username}}">
				      		{% if error_username %}
				      			<span class="error_message">
				      				Please use only uppercase letters (A-Z), lowercase letters (a-z), digits (0-9), hyphens (-) or underscores (_). 3 to 20 characters.
				      			</span>
				      		{% else %}
				      			<span class="input_guide">
				      				Please use only uppercase letters (A-Z), lowercase letters (a-z), digits (0-9), hyphens (-) or underscores (_). 3 to 20 characters.
				      			</span>
				      		{% endif %}
				      		{% if error_username_exists %}
				      			<span class="error_message">Sorry. This username is already taken.</span>
				      		{% endif %}
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<div class="col-sm-offset-2 col-sm-10">
				    		<input type="hidden" name="state" value="{{state}}">
				      		<button type="submit" class="btn btn-default">Change username</button><br>
				      		{% if success_message %}
				      			<span class="message">Username changed!</span>
				      		{% endif %}
				    	</div>
				  	</div>
				</form>
			</div>
		</div>
	</div>
	<br>
{% endblock content %}
