{% extends "base.html" %}

{% block page_title %}
	Change password
{% endblock page_title %}

{% block back_link %}
	<a class="custom_link_navbar" href="/user_settings"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span></a>
{% endblock back_link %}


{% block content %}

	<br>
	<div class="row">
		<div class="col-xs-12 text-center">
			<div class="text-box">
				<h1><strong>Change password</strong></h1>
			</div>
		</div>
	</div>
	<br>
	<div class="row">
		<div class="col-xs-12">
			<div class="transp-box">
				<br>
				<form class="form-horizontal" method="post" role="form">
				  	<div class="form-group">
				    	<label for="inputCurrentPassword" class="col-sm-2 control-label">Current password</label>
				    	<div class="col-sm-10">
				      		<input type="password" class="form-control" maxlength="20" placeholder="Current password" name="current_password">
				      		{% if error_current_password %}
				      			<span class="error_message">Incorrect password.</span>
				      		{% endif %}
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label for="inputPassword" class="col-sm-2 control-label">New password</label>
				    	<div class="col-sm-10">
				      		<input type="password" class="form-control" maxlength="20" pattern="(?=.*?\d)(?=.*?[A-Z])(?=.*?[a-z])[A-Za-z0-9_-]{8,20}" id="inputPassword" placeholder="New password" name="password">
				      		{% if error_password %}
				      			<span class="error_message">
				      				Please use only letters, digits, hyphens (-) or underscores (_). 8 to 20 characters.<br>
				      				At least one uppercase letter, one lowercase letter and one digit are required.
				      			</span>
				      		{% else %}
				      			<span class="input_guide">
				      				Please use only letters, digits, hyphens (-) or underscores (_). 8 to 20 characters.<br>
				      				At least one uppercase letter, one lowercase letter and one digit are required.
				      			</span>
				      		{% endif %}
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label for="inputVerifyPassword" class="col-sm-2 control-label">Repeat new password</label>
				    	<div class="col-sm-10">
				      		<input type="password" class="form-control" maxlength="20" pattern="(?=.*?\d)(?=.*?[A-Z])(?=.*?[a-z])[A-Za-z0-9_-]{8,20}" id="inputVerifyPassword" placeholder="Repeat new password" name="verify_password">
				      		{% if error_verify_password %}
				      			<span class="error_message">The two passwords do not match.</span>
				      		{% endif %}
				    	</div>
				  	</div>

				  	<div class="form-group">
				    	<div class="col-sm-offset-2 col-sm-10">
				    		<input type="hidden" name="state" value="{{state}}">
				      		<button type="submit" class="btn btn-default">Change password</button><br>
				      		{% if success_message %}
				      			<span class="message">Password has been changed!</span>
				      		{% endif %}
				    	</div>
				  	</div>
				</form>
			</div>
		</div>
	</div>
	<br>

{% endblock content %}
